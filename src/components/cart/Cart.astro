---
import CartClearBtn from "@/components/cart/CartClearBtn.astro";
import CartOrderForm from "@/components/cart/CartOrderForm.astro";
import CartOrderBtn from "@/components/cart/CartOrderBtn.astro";
---

<article x-data="{ products: items }" class="cart">
  <header class="cart__header">
    <h1>Корзина</h1>
    
  </header>

  <div class="cart__headings _row">
    <span>название</span>
    <span>артикул</span>
    <span>цена</span>
  </div>

  <template x-for="product in products">
    <div class="cart__item _row">
      <!-- <img x-bind:src="product.image"/> -->
      <button @click="removeFromCart(product)">REMOVE</button>
      <span x-text="product.name"></span>
      <span x-text="product.code"></span>
      <span x-text="product.price + '₽'"></span>
    </div>
  </template>

  <div class="cart__total">
    <span>итого</span>
    <span x-text="getTotalPrice"></span><span>₽</span>
  </div>

  <CartOrderBtn>Оформить заказ</CartOrderBtn>
  
  <CartClearBtn>Очистить корзину</CartClearBtn>

  <!-- btn - оформить заказ -->
  <!-- form - оформление заказа -->
  
</article>

<style lang="scss">
  ._row {
    display: grid;
    grid-template-columns: auto minmax(0,2fr) minmax(0,.5fr) minmax(0,1fr);
  }
</style>
